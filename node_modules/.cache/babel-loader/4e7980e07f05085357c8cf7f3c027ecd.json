{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import Plan from'./Plan';import'./App.css';import'../node_modules/bootstrap/dist/css/bootstrap.min.css';import axios from'axios';// Axios Instance\nconst ai=axios.create({baseURL:'http://127.0.0.1:8000/api'});class App extends Component{constructor(...args){super(...args);this.state={items:[],text:\"\"};this.showPlan=()=>{ai.get('/list/').then(res=>{this.setState({items:res.data});});};this.addPlan=d=>{if(this.state.text!==\"\"){ai.post('/create/',d).then(res=>{this.setState({text:''});this.showPlan();});}};this.handleChange=e=>{this.setState({text:e.target.value});};this.handleAdd=e=>{let dt={items:this.state.text};this.addPlan(dt);// if(this.state.text !== \"\"){\n//   const items = [...this.state.items,this.state.text];\n//   this.setState({items:items,text:\"\"});\n// }\n};this.handleDelete=id=>{console.log(\"Deleted\",id);ai.delete(\"/delete/\".concat(id)).then(res=>{this.showPlan();});};}componentDidMount(){this.showPlan();}render(){return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid my-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6 mx-auto text-white shadow-lg p-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\" Today's Plan \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Write Plan Here\",value:this.state.text,onChange:this.handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning px-5 font-weight-bold\",onClick:this.handleAdd,children:\"Add\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"conatiner\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"list-unstyled row m-5\",children:this.state.items.map((value,i)=>{// console.log(value.id, value.items)\nreturn/*#__PURE__*/_jsx(Plan,{id:value.id,value:value.items,sendData:this.handleDelete},i);})})})]})]})})});}}export default App;","map":{"version":3,"names":["React","Component","Plan","axios","ai","create","baseURL","App","constructor","args","state","items","text","showPlan","get","then","res","setState","data","addPlan","d","post","handleChange","e","target","value","handleAdd","dt","handleDelete","id","console","log","delete","concat","componentDidMount","render","_jsx","className","children","_jsxs","type","placeholder","onChange","onClick","map","i","sendData"],"sources":["/home/sachitkhadka/Downloads/reactdjangoapiproject-master/reactplan/src/App.js"],"sourcesContent":["import React, { Component } from 'react'\nimport Plan from './Plan'\nimport './App.css';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css'\nimport axios from 'axios'\n\n// Axios Instance\nconst ai=axios.create({\n  baseURL:'http://127.0.0.1:8000/api'\n\n})\nclass App extends Component {\n  state = {\n    items: [],\n    text: \"\"\n  }\n  showPlan = () => {\n    ai.get('/list/')\n    .then((res)=>{\n      this.setState({items:res.data})\n    })\n  }\n  addPlan = (d) =>{\n    if(this.state.text !==\"\"){\n      ai.post('/create/',d)\n      .then((res)=>{\n        this.setState({text:''})\n        this.showPlan()\n      })\n    }\n\n  }\n\n  handleChange = e => {\n    this.setState({ text: e.target.value })\n  }\n  handleAdd = e => {\n    let dt={items:this.state.text}\n    this.addPlan(dt)\n    // if(this.state.text !== \"\"){\n    //   const items = [...this.state.items,this.state.text];\n    //   this.setState({items:items,text:\"\"});\n    // }\n\n  }\n  handleDelete = id => {\n    console.log(\"Deleted\", id);\n    ai.delete(`/delete/${id}`)\n      .then((res)=>{\n        this.showPlan()\n      })\n\n  }\n  componentDidMount(){\n    this.showPlan();\n  }\n  render() {\n    return (\n      <div className=\"container-fluid my-5\">\n        <div className=\"row\">\n          <div className=\"col-sm-6 mx-auto text-white shadow-lg p-3\">\n            <h2 className=\"text-center\"> Today's Plan </h2>\n            <div className=\"container-fluid\">\n              <div className=\"row\">\n                <div className=\"col-9\">\n                  <input type=\"text\" className=\"form-control\" placeholder=\"Write Plan Here\" value={this.state.text} onChange={this.handleChange} />\n                </div>\n                <div className=\"col-2\">\n                  <button className=\"btn btn-warning px-5 font-weight-bold\" onClick={this.handleAdd}>Add</button>\n                </div>\n              </div>\n              <div className=\"conatiner\">\n                <ul className=\"list-unstyled row m-5\">\n                  {/* {console.log(\"State Item\",this.state.items)} */}\n\n                  {\n                    this.state.items.map((value, i) => {\n                      // console.log(value.id, value.items)\n                      return <Plan key={i} id={value.id} value={value.items} sendData={this.handleDelete} />\n                    })\n                  }\n                </ul>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}